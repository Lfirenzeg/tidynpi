% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/enrich_lake.R
\name{npi_search_lake}
\alias{npi_search_lake}
\title{Search the public Parquet lake for candidate providers}
\usage{
npi_search_lake(
  con,
  man,
  x,
  max_urls_per_query = 3,
  tries = 6,
  initial_wait = 0.8,
  max_wait = 8,
  sleep_between_batches = 0.2,
  verbose = FALSE
)
}
\arguments{
\item{con}{A DuckDB connection (from tnp_duckdb()).}

\item{man}{Manifest list (from tnp_manifest()).}

\item{x}{Normalized inputs (from npi_normalize()).}

\item{max_urls_per_query}{Batch size for URL reads (helps with rate limits).}

\item{tries}{Retry attempts (HTTP 429 mitigation).}

\item{initial_wait}{Initial backoff wait seconds.}

\item{max_wait}{Max backoff wait seconds.}

\item{sleep_between_batches}{Sleep between URL batches.}

\item{verbose}{Print progress.}
}
\value{
A data.frame of candidates with input_id attached.
}
\description{
For each input row, reads only the relevant (state_part + lname_initial) shards from the manifest,
and applies pushdown filters (exact last name; optional city) before returning candidates.
}
